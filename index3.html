<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MathJax TeX Test Page</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/pure-min.css" integrity="sha384-CCTZv2q9I9m3UOxRLaJneXrrqKwUNOzZ6NGEUMwHtShDJ+nCoiXJCAgi05KfkLGY" crossorigin="anonymous">
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
   <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        extensions: ["tex2jax.js","[Contrib]/forminput/forminput.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
        TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
        CommonHTML: {scale: 250} 
        });
    </script>
    <script type="text/javascript" src="./js/jquery-3.2.1.min.js"></script>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <style>
        .container {
            margin-top:60px; 
        }
        .input-group {
            display: inline-flex;
            width: 100px;
        }
        .input-group input {
            display: inline-flex;
            width: 60px !important;
        }
        .input-group-btn ul {
            width: 60px;
        }
    </style>
    <script>
        $().ready(function(){
    var _fracSign = "\( \frac{\FormInput{mi}}{\FormInput{mo}} \)";
    var fracSign = "\\( \\frac{\\FormInput{mi}}{\\FormInput{mo}} \\)";
    var sqrtSign = "\\( \\sqrt{\\FormInput{d}} \\)"
    let old = "";
    var s = "";
    $("#frac").click(function(){
        s = "frac";
        var old_input = $("#id_input").replaceWith(fracSign);
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        old = $('#b1').replaceWith('<div class="input-group-btn" id="b1"><button class="btn btn-default" id="r1" >重置</button></div>');
        
    })
    $("#sqrt").click(function(){
        s = "sqrt";
        var old_input = $("#id_input").replaceWith(sqrtSign);
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
        old = $('#b1').replaceWith('<div class="input-group-btn" id="b1"><button class="btn btn-default" id="r1" >重置</button></div>');
        
    })
    $('#g1').on('click','#b1>#r1',function(){
        window.location.reload();
    })


    $("#check1").click(function(){
        if(s == "frac"){
            let ans1 = $("#mo").val();
            let ans2 = $("#mi").val();
            ans1 = ans1.replace(/\s+/g, "");
            if($.trim(ans1)=="a+1" && ans2==1){
                $("#result1").text("right").css("color", "green");
            }else{
                $("#result1").text("false").css("color", "red");
            }
        } else {
            $("#result1").text("false").css("color", "red");
        }
                
            })
})
    </script>
</head>
<body>
    <div class="container">

        <div class="row">
            <div class="col-md-6">
                <div>\( (1- \)  
                    <div class="input-group" id="g1">
                        <input id="id_input" type="text" class="form-control" aria-label="...">
                        <div class="input-group-btn" id="b1">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">S <span class="caret"></span></button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li id="frac"><a href="#">分号</a></li>
                                <li role="separator" class="divider"></li>
                                <li id="sqrt"><a href="#">根号</a></li>
                            </ul>
                        </div><!-- /btn-group -->
                    </div><!-- /input-group -->
                \( )\centerdot\frac{a^2+2a+1}{a} = a+1\)</div>
            </div>
            <div class="col-md-3">
                <button id="check1" type="button" class="btn btn-primary btn-lg">check</button>
            </div>
            <div class="col-md-3">
                <p>tip: \( \frac{1}{a+1} \) </p>
            </div>
            <div class="col-md-6"></div>
            <div class="col-md-6" id="result1" style="font-size: 200%;margin-top: 60px;"></div>
        </div>
    </div>
</body>
</html>
