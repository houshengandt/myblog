{% extends 'base.html' %}
{% block content %}
    <div class="row">
            <div id="id-article-list" class="col-md-8">
                <h1>{{ month|date:'Y' }}年{{ month|date:'m' }}月的所有文章</h1>
                {% for article in article_list %}
                <h2><a href="{{ article.get_absolute_url }}">{{ article.title }}</a></h2>
                <p>{{ article.abstract }}</p>
                <a href="{{ article.get_absolute_url }}">阅读全文</a>
                {% endfor %}
            </div>
            <div id="id-side" class="col-md-4">
                <div id="id-tags">
                    {% for tag in tags %}
                        <a href="#">{{ tag.tag_name }}<span> ({{ tag.article.count }})</span></a>
                    {% endfor %}
                </div>
                <div id="id-archive">
                    <h3>归档</h3>
                    {% regroup dates by year as dates_by_year %}
                    <ul>
                        {% for month in dates_by_year %}
                        <!-- month 是一组月份列表 -->
                        <li>
                            {{ month.grouper }} 年
                            <!-- grouper 是组头，即某个月份列表的年份 -->
                            <ul class="list-group">
                                {% for d in month.list %}
                                <!-- 再循环显示该年份组下的月份列表即可 -->
                                <li class="list-group-item">
                                    <a href="{% url 'month_archive' month.grouper d|date:'m' %}"> {{ d |date:'m' }} 月</a>
                                </li>
                                {% endfor %}
                            </ul>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div> <!--end id-page-->
{% endblock %}